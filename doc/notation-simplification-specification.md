# 表記簡略化仕様書

## ドキュメント概要

このドキュメントでは、divichart-next-js-appの画面上で表示される見出しの表記を簡略化する仕様について検討します。

## 作成日

2026年2月10日

---

## 背景

### 現状の課題

現在、アプリケーションの各ページで以下のような見出しを表示しています：

- **年別配当グラフ** (メインページ: `/`)
- **累計配当グラフ** (累計ページ: `/cumulative`)

これらの見出しには「グラフ」という単語が含まれていますが、以下の理由から冗長であると考えられます：

1. **視覚的明示性**: ページ上に表示されているコンテンツが棒グラフや折れ線グラフであることは、見れば一目瞭然である
2. **冗長性**: 「グラフ」という単語がなくても、コンテンツの性質は十分に伝わる
3. **簡潔性**: よりシンプルな見出しの方が、視認性が向上し、モダンなUIデザインに適している

### 目的

見出しから「グラフ」という単語を省略することで、より簡潔で洗練された表示を実現します。

---

## 提案する変更内容

### 変更対象

以下の見出し表記を簡略化します：

| ページ | 現在の表記 | 変更後の表記 |
|--------|-----------|-------------|
| メインページ (`/`) | 年別配当グラフ | 年別配当 |
| 累計ページ (`/cumulative`) | 累計配当グラフ | 累計配当 |

### 変更しない箇所

以下の箇所は変更の対象外とします：

1. **コメント・JSDoc内の説明文**
   - 例: `* 配当金データをCSVファイルから読み込み、年別に集計してグラフと表で表示する`
   - 理由: コメントは詳細な説明を目的としているため、「グラフ」という単語があっても問題ない

2. **説明文テキスト**
   - 例: `このグラフは、配当金データから年別に税引き後の配当金を集計して表示しています。`
   - 理由: 説明文では明示的に「グラフ」と記載することで、ユーザーに正確な情報を伝える

3. **型名・変数名**
   - 例: `DividendData`, `chartData`
   - 理由: コード内の命名規則は維持し、一貫性を保つ

4. **その他のUI要素**
   - 例: 円グラフのタイトルや説明
   - 理由: 今回の変更対象は主要な見出し（h1要素）のみ

---

## 技術的詳細

### 影響を受けるファイル

#### 1. `src/app/page.tsx`

**変更箇所**: 99-101行目

```tsx
// 変更前
<h1 className="text-4xl font-bold mb-6 text-gray-800 dark:text-gray-200">
    年別配当グラフ
</h1>

// 変更後
<h1 className="text-4xl font-bold mb-6 text-gray-800 dark:text-gray-200">
    年別配当
</h1>
```

#### 2. `src/app/cumulative/page.tsx`

**変更箇所**: 61-63行目

```tsx
// 変更前
<h1 className="text-4xl font-bold mb-6 text-gray-800 dark:text-gray-200">
    累計配当グラフ
</h1>

// 変更後
<h1 className="text-4xl font-bold mb-6 text-gray-800 dark:text-gray-200">
    累計配当
</h1>
```

#### 3. テストファイルの更新

以下のテストファイルでは、変更後の見出しテキストを検証するため、テストケースを更新する必要があります：

- `__tests__/src/app/page.test.tsx`: 複数箇所で `'年別配当グラフ'` を検証
- `__tests__/src/app/cumulative/page.test.tsx`: 1箇所で `'累計配当グラフ'` を検証

**テストファイルの変更例**:

```tsx
// 変更前
expect(screen.getByText('年別配当グラフ')).toBeInTheDocument();

// 変更後
expect(screen.getByText('年別配当')).toBeInTheDocument();
```

---

## UI/UXへの影響

### ポジティブな影響

1. **視認性の向上**
   - より短い見出しになることで、ページ全体の情報密度が下がり、見やすくなる

2. **モダンなデザイン**
   - 簡潔な表現は、現代的なWebデザインのトレンドに合致する

3. **モバイル対応**
   - 短い見出しは、モバイル画面でも表示が最適化される

### 考慮すべき点

1. **初見のユーザーへの配慮**
   - 「グラフ」という単語がなくても、視覚的に十分に明確であることを確認する
   - 実際のグラフコンポーネント（棒グラフ、折れ線グラフ）がすぐ下に表示されるため、混乱は生じないと考えられる

2. **一貫性の維持**
   - アプリケーション全体で、同様の簡略化ポリシーを適用する
   - 他のページ（例: `/portfolio`）でも同様の見出しスタイルを維持する

---

## 実装手順

### ステップ1: 仕様確認
- [x] 本仕様書の作成と内容確認

### ステップ2: コード変更（実装時）
- [ ] `src/app/page.tsx` の見出しを変更
- [ ] `src/app/cumulative/page.tsx` の見出しを変更
- [ ] テストファイル `__tests__/src/app/page.test.tsx` を更新
- [ ] テストファイル `__tests__/src/app/cumulative/page.test.tsx` を更新

### ステップ3: 検証（実装時）
- [ ] テストの実行と成功確認
- [ ] ビルドの実行と成功確認
- [ ] 開発サーバーでの動作確認とスクリーンショット取得
- [ ] モバイル表示での確認

### ステップ4: コードレビューとデプロイ（実装時）
- [ ] コードレビューの実施
- [ ] セキュリティチェック
- [ ] マージとデプロイ

---

## リスク評価

### リスクレベル: 低

1. **破壊的変更なし**: UIテキストの変更のみで、ロジックやデータ構造には影響しない
2. **後方互換性**: 既存の機能には一切影響しない
3. **ロールバック容易**: 必要に応じて簡単に元の表記に戻すことが可能

### 潜在的なリスク

1. **ユーザーの混乱**: 長期利用ユーザーが慣れ親しんだ表記が変わることによる混乱
   - **対策**: 変更は見出しのみであり、機能自体は変わらないため、影響は最小限

2. **ドキュメントの不整合**: README や他のドキュメントで古い表記が残る可能性
   - **対策**: 実装時に関連ドキュメントも確認し、必要に応じて更新

---

## 代替案の検討

### 案1: 現状維持
「年別配当グラフ」「累計配当グラフ」のままにする

**メリット**:
- 変更作業が不要
- 既存ユーザーへの影響がない

**デメリット**:
- 冗長性が解消されない
- UIの洗練度が向上しない

### 案2: より詳細な表記
「年別配当金グラフ」「累計配当金グラフ」のように「金」を追加

**メリット**:
- より明示的な表現

**デメリット**:
- さらに長くなり、冗長性が増す
- 今回の目的である簡略化とは逆方向

### 案3: 英語表記
"Annual Dividends", "Cumulative Dividends"

**メリット**:
- よりコンパクトな表現（文字数が減る可能性）

**デメリット**:
- アプリケーションが日本語を基本としているため、一貫性を損なう
- ユーザーの混乱を招く可能性

### 推奨案: 提案している簡略化
「年別配当」「累計配当」

**理由**:
- 簡潔かつ明確
- 日本語のUIに自然に馴染む
- 視覚的なグラフが直下にあるため、「グラフ」という単語は不要
- 最小限の変更でUIの質を向上できる

---

## 期待される効果

### 短期的効果
1. UIのモダン化と洗練
2. 視認性の向上
3. モバイル表示の最適化

### 長期的効果
1. 今後の新機能追加時に、同様の簡潔な命名規則を適用できる
2. ユーザーにとってより直感的なUIの実現
3. メンテナンス性の向上（テキストが短い方がテストコードもシンプルになる）

---

## 関連ドキュメント

- [doc/developer-specification.md](./developer-specification.md) - 開発者向け仕様書
- [doc/feature-addition-consideration.md](./feature-addition-consideration.md) - 機能追加検討ドキュメント
- [README.md](../README.md) - プロジェクト概要

---

## まとめ

本仕様書では、divichart-next-js-appの見出し表記を簡略化する提案をまとめました。

**変更内容**:
- 「年別配当グラフ」→「年別配当」
- 「累計配当グラフ」→「累計配当」

**影響範囲**:
- 2つのページファイル（`page.tsx`, `cumulative/page.tsx`）
- 2つのテストファイル（対応するテストケース）

**リスク**: 低（UIテキストの変更のみ、機能への影響なし）

**期待効果**: UIの簡潔化、視認性向上、モダンなデザインの実現

この変更は、最小限のコード修正で、ユーザーエクスペリエンスを向上させる効果的な改善です。

---

## 変更履歴

- 2026年2月10日: 初版作成

---

## 承認

このドキュメントの内容を確認し、実装を進めることを承認します。

実装担当者: GitHub Copilot
レビュアー: プロジェクトオーナー
